(this["webpackJsonptrello-zadatak"]=this["webpackJsonptrello-zadatak"]||[]).push([[0],{47:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(18),i=n.n(r),s=(n(47),n(7)),o=n(15),u=n(6),d=n(5),l=n(39),b=n.n(l),j=window.localStorage.getItem("key"),f=window.localStorage.getItem("token"),m=b.a.create({baseURL:"https://api.trello.com/1/",params:{key:j,token:f}}),O=m;function p(){var t=window.localStorage.getItem("key"),e=window.localStorage.getItem("token");return void 0!==t&&""!==t&&null!==t&&null!==e&&void 0!==e&&""!==e}function v(t,e){window.localStorage.setItem("key",t),window.localStorage.setItem("token",e),function(t,e){m.defaults.params={key:t,token:e}}(t,e)}function x(){window.localStorage.clear(),m.defaults.params={}}var h=n(1);var C=function(){var t=Object(c.useState)(""),e=Object(d.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(""),i=Object(d.a)(r,2),s=i[0],o=i[1],l=Object(u.g)();return Object(h.jsx)("div",{className:"login-page",children:Object(h.jsxs)("form",{className:"w-25 mx-auto mt-5 pt-5 text-dark",children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{className:"form-label",children:"Key"}),Object(h.jsx)("input",{type:"text",className:"form-control",value:n,onChange:function(t){return a(t.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{className:"form-label",children:"Token"}),Object(h.jsx)("input",{type:"text",className:"form-control",value:s,onChange:function(t){return o(t.target.value)}})]}),Object(h.jsx)("button",{className:"btn btn-info text-light w-100 mt-3",onClick:function(){v(n,s),l.push("/")},children:"Continue"})]})})},E=n(4),g=n.n(E),N=n(8),y=function(t,e){return{type:"FETCH_BOARDS_SUCCEEDED",boards:t,boardPrefs:e}},k=function(t){document.documentElement.style.setProperty("--root-color",t)},D=function(t){"light"===t?document.documentElement.style.setProperty("--text-color","#172b4d"):"dark"===t&&document.documentElement.style.setProperty("--text-color","#ebecf0")},w=function(t){document.documentElement.style.setProperty("--root-image","url("+t+")")},S=function(t){var e=new Map;return t.forEach((function(t){e.set(t.id,t.prefs)})),e},_=function(){return function(){var t=Object(N.a)(g.a.mark((function t(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O.get("members/me/boards").then((function(t){if(200===t.status){var n=t.data;e(y(n,S(n)))}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var A=Object(s.b)(null,{createBoard:function(t){return function(){var e=Object(N.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.post("boards",null,{params:{name:t}}).then((function(t){200===t.status&&n(_())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(t){var e=t.createBoard,n=Object(c.useState)(!1),a=Object(d.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(""),o=Object(d.a)(s,2),u=o[0],l=o[1];return Object(h.jsx)("div",{className:"rounded board",children:r?Object(h.jsxs)("div",{className:"board-content rounded hover-effect-none",children:[Object(h.jsx)("input",{type:"text",className:"form-control add-board-input",value:u,onChange:function(t){return l(t.target.value)},autoFocus:!0}),Object(h.jsx)("button",{className:"btn btn-sm btn-dark mt-2 ms-2",onClick:function(){""!==u&&(e(u),i(!1),l(""))},children:"Save"})]}):Object(h.jsx)("div",{className:"board-content rounded d-flex align-items-center justify-content-center hover-opacity-effect",onClick:function(){return i(!0)},children:"Add new board"})})}));function I(t){var e=t.board,n=Object(u.g)();return Object(h.jsx)("div",{className:"rounded board hover-opacity-effect",style:{backgroundImage:"url(".concat(e.prefs.backgroundImage,")"),backgroundColor:"".concat(e.prefs.backgroundColor)},onClick:function(){return n.push("b/".concat(e.id,"/").concat(e.name))},children:Object(h.jsx)("div",{className:"board-content rounded ps-3 py-2",children:e.name})})}var T=Object(s.b)((function(t){return{boards:t.boards.boards}}),{fetchBoards:_})((function(t){var e=t.boards,n=t.fetchBoards;Object(c.useEffect)((function(){n()}),[n]);var a=null===e||void 0===e?void 0:e.map((function(t){return Object(h.jsx)(I,{board:t},t.id)}));return Object(h.jsxs)("div",{className:"container my-3",children:[Object(h.jsx)("p",{className:"fs-5 fw-bold text-dark",children:"Boards"}),Object(h.jsxs)("div",{className:"mt-3",children:[a,Object(h.jsx)(A,{})]})]})})),L=n(2),U=n(16);function R(t,e,n){t.stopPropagation(),"Escape"===t.key?e():"Enter"===t.key&&n()}function P(t,e){Object(c.useEffect)((function(){function n(n){t.current&&!t.current.contains(n.target)&&e()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[t,e])}var B=function(t){var e=t.title,n=t.handleAddItemClicked,a=Object(c.useRef)(null);P(a,(function(){return o(!1)}));var r=Object(c.useState)(!1),i=Object(d.a)(r,2),s=i[0],o=i[1],u=Object(c.useState)(""),l=Object(d.a)(u,2),b=l[0],j=l[1],f=function(){""!==b.replace(/\n/g,"")&&(n(b),o(!1),j(""))};return s?Object(h.jsxs)("form",{className:"py-1 my-1 mx-1",ref:a,children:[Object(h.jsx)("textarea",{rows:3,className:"form-control bg-secondary border-secondary add-item-teaxtarea text-light",value:b,onChange:function(t){return j(t.target.value)},autoFocus:!0,onKeyUp:function(t){return function(t){R(t,(function(){return o(!1)}),(function(){return f()}))}(t)}}),Object(h.jsxs)("div",{className:"mt-1",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-info btn-sm text-dark",onClick:function(){return f()},children:"Add item"}),Object(h.jsx)("i",{className:"bi bi-x fs-4 align-middle",onClick:function(){return o(!1)}})]})]}):Object(h.jsxs)("div",{className:"py-1 my-1 add-item",onClick:function(){return o(!0)},children:[Object(h.jsx)("i",{className:"bi bi-plus me-2"}),e]})};var M=function(t){var e=t.handleAddListClicked,n=t.index;return Object(h.jsx)(U.b,{draggableId:"id",index:n,isDragDisabled:!0,children:function(t){return Object(h.jsx)("div",Object(L.a)(Object(L.a)(Object(L.a)({className:"rounded kanban-column p-2 align-self-start mx-1",ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(h.jsx)(B,{title:"Add another list",handleAddItemClicked:function(t){return e(t)}})}))}})};function F(t){Object(c.useEffect)((function(){function e(e){var n;"comment"!==(null===(n=e.target)||void 0===n?void 0:n.id)&&"Escape"===e.key&&t()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t])}var H=function(t){return{type:"FETCH_LISTS_SUCCEEDED",lists:t}},J=function(t){return{type:"UPDATE_LIST_SUCCEEDED",list:t}},z=function(t,e){return{type:"ADD_CARD_SUCCEEDED",card:t,idList:e}},K=function(t){return{type:"ARCHIVE_LIST_SUCCEEDED",idList:t}},V=function(t){return{type:"UPDATE_CARD_SUCCEEDED",card:t}},Y=function(t){return{type:"ARCHIVE_CARD_SUCCEEDED",idCard:t}},G=function(t){return{type:"REORDER_LISTS_SUCCEEDED",lists:t}},W=function(t){return function(){var e=Object(N.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.get("cards/"+t+"?fields=id,idList,name,desc&actions=commentCard").then((function(t){var e=t.status,c=t.data;200===e&&n({type:"FETCH_CARD_BY_ID_SUCCEEDED",card:c})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var X=function(t){var e=t.show,n=t.close,a=t.onConfirm,r=Object(c.useRef)(null);return P(r,(function(){n()})),F((function(){return n()})),e?Object(h.jsx)("div",{className:"confirmation-modal fs-6 text-dark",children:Object(h.jsxs)("div",{ref:r,className:"confirmation-modal-content",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(h.jsx)("span",{className:"text-center w-100",children:"Are you sure? "}),Object(h.jsx)("i",{className:"bi bi-x",onClick:n})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("div",{className:"mb-4",children:"Deleting is forever. There is no undo."}),Object(h.jsx)("div",{className:"text-center",children:Object(h.jsx)("button",{className:"btn btn-dark py-1 w-100",onClick:function(){n(),a()},children:"Delete"})})]})}):null};var q=Object(s.b)(null,{updateComment:function(t){return function(){var e=Object(N.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.put("actions/"+t.id,null,{params:{text:t.data.text}}).then((function(t){200===t.status&&n({type:"UPDATE_COMMENT_SUCCEEDED",comment:t.data})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteComment:function(t,e){return function(){var n=Object(N.a)(g.a.mark((function n(c){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:O.delete("actions/"+t).then((function(t){200===t.status&&c(W(e))}));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}})((function(t){var e=t.comment,n=t.updateComment,a=t.deleteComment,r=Object(c.useState)(!1),i=Object(d.a)(r,2),s=i[0],o=i[1],u=Object(c.useState)(""),l=Object(d.a)(u,2),b=l[0],j=l[1],f=Object(c.useState)(!1),m=Object(d.a)(f,2),O=m[0],p=m[1];Object(c.useEffect)((function(){j(e.data.text)}),[e]);var v=function(){var t=Object(L.a)(Object(L.a)({},e),{},{data:Object(L.a)(Object(L.a)({},e.data),{},{text:b})});n(t),o(!1)},x=new Date(e.date);return Object(h.jsxs)("div",{className:"inline-flex my-2 mx-2",children:[Object(h.jsx)(X,{close:function(){return p(!1)},show:O,onConfirm:function(){return a(e.id,e.data.card.id)}}),Object(h.jsxs)("div",{className:"small-text fw-bold",children:[e.memberCreator.fullName,Object(h.jsx)("span",{className:"mx-2 fw-light",children:x.toLocaleString()})]}),Object(h.jsx)("input",{className:"edit-card-title-input mt-1",value:b,onChange:function(t){return j(t.target.value)},onKeyUp:function(t){return function(t){R(t,(function(){return o(!1)}),(function(){return v()}))}(t)},disabled:!s}),s?Object(h.jsxs)("div",{className:"align-self-center",children:[Object(h.jsx)("button",{className:"btn btn-sm btn-info text-light",onClick:v,children:"Save"}),Object(h.jsx)("i",{className:"bi bi-x fs-3 align-middle ms-2",onClick:function(){return o(!1)}})]}):Object(h.jsxs)("div",{className:"small-text mt-1",children:[Object(h.jsx)("span",{className:"text-dark clickable",onClick:function(){return o(!0)},children:"Edit"}),"\xa0-\xa0",Object(h.jsx)("span",{className:"text-dark clickable",onClick:function(){return p(!0)},children:"Delete"})]})]})}));var Q=Object(s.b)((function(t){return{card:t.cards.card}}),{fetchCardById:W,resetCardState:function(){return{type:"RESET_CARD_STATE"}},updateCard:function(t){return function(){var e=Object(N.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.put("cards/"+t.id,t,{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status&&n(V(t.data))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addComment:function(t,e){return function(){var n=Object(N.a)(g.a.mark((function n(c){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:O.post("cards/"+t+"/actions/comments?text="+e).then((function(t){200===t.status&&c({type:"ADD_COMMENT_SUCCEEDED",comment:t.data})}));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},archiveCard:function(t){return function(){var e=Object(N.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.delete("cards/"+t).then((function(e){200===e.status&&n(Y(t))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(t){var e,n=t.card,a=t.idCard,r=t.show,i=t.close,s=t.resetCardState,o=t.fetchCardById,u=t.updateCard,l=t.addComment,b=t.archiveCard,j=Object(c.useRef)(null);P(j,(function(){_(!1),i()}));var f=Object(c.useState)(""),m=Object(d.a)(f,2),O=m[0],p=m[1],v=Object(c.useState)(""),x=Object(d.a)(v,2),C=x[0],E=x[1],g=Object(c.useState)(""),N=Object(d.a)(g,2),y=N[0],k=N[1],D=Object(c.useState)(!1),w=Object(d.a)(D,2),S=w[0],_=w[1];Object(c.useEffect)((function(){r&&o(a)}),[o,a,r]),Object(c.useEffect)((function(){p((null===n||void 0===n?void 0:n.name)||""),E((null===n||void 0===n?void 0:n.desc)||"")}),[n]),F(i);var A=function(){l((null===n||void 0===n?void 0:n.id)||"",y),k(""),_(!1)},I=null===n||void 0===n||null===(e=n.actions)||void 0===e?void 0:e.map((function(t){return Object(h.jsx)(q,{comment:t},t.id)}));return r?Object(h.jsx)("div",{className:"edit-card-modal text-dark",children:Object(h.jsxs)("div",{className:"edit-card-modal-content row",ref:j,children:[Object(h.jsxs)("div",{className:"fs-5 fw-bold mb-3 d-flex justify-content-between align-items-start",children:[Object(h.jsx)("input",{type:"text",className:"edit-card-title-input text-wrap",value:O,onChange:function(t){return p(t.target.value)}}),Object(h.jsx)("i",{className:"bi bi-x fs-3 me-2",onClick:function(){s(),i()}})]}),Object(h.jsxs)("div",{className:"col-10",children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("span",{className:"fw-bold",children:"Description:"}),Object(h.jsx)("textarea",{className:"form-control mt-2",rows:4,value:C,onChange:function(t){return E(t.target.value)}})]}),Object(h.jsx)("div",{className:"mb-2 d-flex justify-content-between align-items-center fw-bold",children:"Activity"}),Object(h.jsxs)("div",{className:"pb-1",onBlur:function(t){t.currentTarget.contains(t.relatedTarget)||_(!1)},children:[Object(h.jsx)("input",{id:"comment",type:"text",className:"form-control border-bottom-0 comment-input",placeholder:"Write a comment",value:y,onChange:function(t){return k(t.target.value)},onFocus:function(){return _(!0)},onKeyUp:function(t){return function(t){t.stopPropagation(),R(t,(function(){t.target.blur(),_(!1),k("")}),(function(){return A()}))}(t)}}),S&&Object(h.jsx)("button",{className:"btn btn-sm btn-info text-light mt-2 ms-2",onClick:A,children:"Add"})]}),Object(h.jsx)("div",{children:I}),Object(h.jsx)("button",{className:"btn btn-info text-light mt-4",onClick:function(){var t={name:O,id:(null===n||void 0===n?void 0:n.id)||"",desc:C,idList:(null===n||void 0===n?void 0:n.idList)||"",actions:(null===n||void 0===n?void 0:n.actions)||[]};u(t),i()},children:"Save"})]}),Object(h.jsxs)("div",{className:"col-2",children:[Object(h.jsx)("p",{className:"fw-bold",children:"ACTIONS"}),Object(h.jsx)("div",{className:"btn btn-info py-1 text-light",onClick:function(){return b((null===n||void 0===n?void 0:n.id)||"")},children:"Archive"})]})]})}):null}));var Z=function(t){var e=t.card,n=t.index,a=Object(c.useState)(!1),r=Object(d.a)(a,2),i=r[0],s=r[1];return Object(h.jsx)(U.b,{draggableId:e.id,index:n,children:function(t){return Object(h.jsxs)("div",Object(L.a)(Object(L.a)(Object(L.a)({className:"rounded m-1 px-2 py-1 d-flex justify-content-between text-wrap bg-white",ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:[e.name,Object(h.jsx)("i",{className:"bi bi-pencil-fill ps-1",onClick:function(){return s(!0)}}),Object(h.jsx)(Q,{idCard:e.id,show:i,close:function(){return s(!1)}})]}))}})},$=n(17);function tt(t,e,n){var c=Object($.a)(n);return c.splice(e,0,c.splice(t,1)[0]),c}function et(t,e){return Math.floor(Math.random()*(e-t+1))+t}function nt(t,e){var n=t.find((function(t){return t.id===e}));return[t[t.indexOf(n)-1]||{pos:0},t[t.indexOf(n)+1]||{pos:Number.MAX_SAFE_INTEGER}]}function ct(t,e,n,c){var a=nt(t,e),r=Object(d.a)(a,2),i=r[0],s=et(r[1].pos,i.pos);return Object(L.a)(Object(L.a)({},n),{},{pos:s,idList:c})}var at=Object(s.b)(null,{addCard:function(t,e){return function(){var n=Object(N.a)(g.a.mark((function n(c){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:O.post("cards",null,{params:{name:t,idList:e}}).then((function(t){return c(z(t.data,e))}));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},archiveList:function(t){return function(){var e=Object(N.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.put("lists/"+t+"/closed",null,{params:{value:!0}}).then((function(e){200===e.status&&n(K(t))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateListName:function(t,e){return function(){var n=Object(N.a)(g.a.mark((function n(c){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:O.put("lists/"+t,null,{params:{name:e}}).then((function(t){return c(J(t.data))}));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}})((function(t){var e,n=t.list,a=t.addCard,r=t.archiveList,i=t.updateListName,s=t.index,o=Object(c.useState)(!1),u=Object(d.a)(o,2),l=u[0],b=u[1],j=Object(c.useState)(n.name),f=Object(d.a)(j,2),m=f[0],O=f[1],p=Object(c.useState)(!1),v=Object(d.a)(p,2),x=v[0],C=v[1],E=null===n||void 0===n||null===(e=n.cards)||void 0===e?void 0:e.map((function(t,e){return Object(h.jsx)(Z,{card:t,index:e},t.id)}));return Object(h.jsxs)("div",{className:"mx-1",children:[Object(h.jsx)(X,{close:function(){return C(!1)},show:x,onConfirm:function(){return r(n.id)}}),Object(h.jsx)(U.b,{draggableId:n.id,index:s,children:function(t){return Object(h.jsxs)("div",Object(L.a)(Object(L.a)(Object(L.a)({className:"rounded kanban-column align-self-start p-2",ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:[l?Object(h.jsx)("input",{type:"text",className:"form-control",value:m,onChange:function(t){return O(t.target.value)},onBlur:function(){return m!==n.name&&i(n.id,m),void b(!1)},autoFocus:!0}):Object(h.jsxs)("div",{className:"list-title p-1 d-flex justify-content-between",children:[Object(h.jsx)("span",{onClick:function(){return b(!0)},children:n.name}),Object(h.jsx)("i",{className:"bi bi-trash",onClick:function(){return C(!0)}})]}),Object(h.jsx)("div",{className:"column-content",children:Object(h.jsx)(U.c,{droppableId:n.id,type:"CARD",direction:"vertical",ignoreContainerClipping:!0,isCombineEnabled:!1,children:function(t){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",Object(L.a)(Object(L.a)({ref:t.innerRef},t.droppableProps),{},{children:E})),t.placeholder]})}})}),Object(h.jsx)(B,{title:"Add another card",handleAddItemClicked:function(t){return function(t){a(t,null===n||void 0===n?void 0:n.id)}(t)}})]}))}})]})}));function rt(t){var e=t.name;return Object(h.jsx)("nav",{className:"m-0 fs-5 ps-3 text-color mt-1 text-center",children:e})}var it=Object(s.b)((function(t){return{lists:t.lists.lists,boardPreferences:t.boards.boardPreferences}}),{fetchLists:function(t){return function(){var e=Object(N.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.get("boards/"+t+"/lists?fields=name,id,pos&cards=all").then((function(t){200===t.status&&n(H(t.data))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addList:function(t,e){return function(){var n=Object(N.a)(g.a.mark((function n(c){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:O.post("lists",null,{params:{pos:"bottom",name:t,idBoard:e}}).then((function(t){return c({type:"ADD_LIST_SUCCEEDED",list:t.data})}));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},onDragEnd:function(t,e){return function(){var n=Object(N.a)(g.a.mark((function n(c){var a,r,i,s,o,u,l,b,j,f,m,p,v,x,h,C,E,N;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.source,r=t.destination,i=t.draggableId,r){n.next=3;break}return n.abrupt("return");case 3:if(a.droppableId!==r.droppableId||a.index!==r.index){n.next=5;break}return n.abrupt("return");case 5:if("COLUMN"!==t.type){n.next=14;break}if(s=tt(a.index,r.index,e),o=nt(s,i),u=Object(d.a)(o,2),l=u[0],b=u[1],l&&b){n.next=10;break}return n.abrupt("return");case 10:return j=0===l.pos?"top":et(b.pos,l.pos),c(G(s)),O.put("lists/"+i,null,{params:{pos:j}}).then((function(t){return c(J(t.data))})).catch((function(t){return c(G(e))})),n.abrupt("return");case 14:if(f=e.find((function(t){return t.id===a.droppableId})),(m=e.find((function(t){return t.id===r.droppableId})))&&f){n.next=18;break}return n.abrupt("return");case 18:if(p=f.cards.find((function(t){return t.id===i}))||{},f.id!==m.id){n.next=26;break}return v=tt(a.index,r.index,f.cards),x=e.map((function(t){return t.id===a.droppableId?Object(L.a)(Object(L.a)({},t),{},{cards:Object($.a)(v)}):t})),h=ct(v,i,p,m.id),c(H(x)),O.put("cards/"+i,h,{headers:{"Content-Type":"application/json"}}).then((function(t){var e=t.status,n=t.data;200===e&&(c(V(n)),c(H(x)))})).catch((function(t){return c(G(e))})),n.abrupt("return");case 26:C=JSON.parse(JSON.stringify(f)),E=JSON.parse(JSON.stringify(m)),f.cards.splice(a.index,1),m.cards.splice(r.index,0,p),N=ct(m.cards,i,p,m.id),c(J(f)),c(J(m)),O.put("cards/"+i,N,{headers:{"Content-Type":"application/json"}}).then((function(t){var n=t.status,a=t.data;if(200===n){var r=e.map((function(t){return t.id===m.id?Object(L.a)({},m):t.id===f.id?Object(L.a)({},f):t}));c(V(a)),c(H(r))}})).catch((function(t){c(J(C)),c(J(E))}));case 34:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},fetchListsSucceeded:H})((function(t){var e=t.fetchLists,n=t.lists,a=t.boardPreferences,r=t.addList,i=t.onDragEnd,s=t.fetchListsSucceeded,o=Object(u.i)(),d=o.id,l=o.name;Object(c.useEffect)((function(){return e(d),function(t){if(void 0!==t)if(t.backgroundImage)w(t.backgroundImage);else{var e=t.backgroundColor;e&&(k(e),D(t.backgroundBrightness))}}(a.get(d)),function(){s([]),k("white"),D("light"),w("")}}),[e,s,d]);var b=null===n||void 0===n?void 0:n.map((function(t,e){return Object(h.jsx)(at,{list:t,index:e},t.id)}));return Object(h.jsxs)(U.a,{onDragEnd:function(t){i(t,n)},children:[Object(h.jsx)(rt,{name:l}),Object(h.jsx)("div",{className:"p-2 horizontal-scrollable d-flex align-items-start",id:"fancy-scrollbar",children:Object(h.jsx)(U.c,{droppableId:"board",type:"COLUMN",direction:"horizontal",ignoreContainerClipping:!0,isCombineEnabled:!1,children:function(t){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",Object(L.a)(Object(L.a)({ref:t.innerRef},t.droppableProps),{},{className:"d-flex align-items-start",children:[b,Object(h.jsx)(M,{handleAddListClicked:function(t){return function(t){""!==t&&r(t,d)}(t)},index:n.length}),t.placeholder]}))})}})})]})}));var st=function(){var t=Object(c.useState)(!1),e=Object(d.a)(t,2),n=e[0],a=e[1],r=Object(u.g)();return p()?Object(h.jsxs)("div",{className:"text-end text-color",children:[Object(h.jsx)("i",{className:"bi bi-three-dots-vertical",onClick:function(){return a(!n)}}),n&&Object(h.jsxs)("div",{className:"account-menu-options text-dark fs-6 text-center",children:[Object(h.jsx)("div",{children:"Account"}),Object(h.jsx)("hr",{}),Object(h.jsx)("div",{className:"account-menu-option text-start clickable",onClick:function(){x(),a(!1),r.push("/login")},children:"Logout"})]})]}):null};var ot=function(){var t=Object(u.h)().pathname;return Object(h.jsxs)("nav",{className:"navbar d-flex justify-content-center fs-4 row m-0 dimmed-background",children:["/"!==t?Object(h.jsx)(o.b,{to:"/",className:"col-4",children:Object(h.jsx)("i",{className:"bi bi-arrow-left-circle header-link"})}):Object(h.jsx)("span",{className:"col-4"}),Object(h.jsx)(o.b,{to:"/",className:"col-4 text-center header-link",children:"Not Trello"}),Object(h.jsx)("span",{className:"col-4",children:Object(h.jsx)(st,{})})]})},ut=n(42);var dt=function(t){var e=t.component,n=Object(ut.a)(t,["component"]);return p()?Object(h.jsx)(u.b,Object(L.a)(Object(L.a)({},n),{},{render:function(t){return Object(h.jsx)(e,Object(L.a)(Object(L.a)({},n),t))}})):Object(h.jsx)(u.a,{to:{pathname:"/login"}})},lt=n(13),bt=n(41),jt={boards:[],boardPreferences:new Map},ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_BOARDS_SUCCEEDED":return Object(L.a)(Object(L.a)({},t),{},{boards:e.boards,boardPreferences:e.boardPrefs});default:return t}},mt={card:null,updating:!1},Ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_CARD_BY_ID_SUCCEEDED":return Object(L.a)(Object(L.a)({},t),{},{card:e.card});case"RESET_CARD_STATE":return Object(L.a)(Object(L.a)({},t),{},{card:null});case"ADD_COMMENT_SUCCEEDED":var n;if(null!==t.card){var c,a=[e.comment].concat(null===(c=t.card)||void 0===c?void 0:c.actions);n=Object(L.a)(Object(L.a)({},t.card),{},{actions:a})}return Object(L.a)(Object(L.a)({},t),{},{card:n||null});case"UPDATE_COMMENT_SUCCEEDED":var r,i;if(null!==t.card)r=Object(L.a)(Object(L.a)({},t.card),{},{actions:[].concat(Object($.a)((null===(i=t.card)||void 0===i?void 0:i.actions)||[]),[e.comment])});return Object(L.a)(Object(L.a)({},t),{},{card:r||null});default:return t}},pt={lists:[]},vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_LISTS_SUCCEEDED":case"REORDER_LISTS_SUCCEEDED":return Object(L.a)(Object(L.a)({},t),{},{lists:e.lists});case"ADD_LIST_SUCCEEDED":return Object(L.a)(Object(L.a)({},t),{},{lists:[].concat(Object($.a)(t.lists),[e.list])});case"UPDATE_LIST_SUCCEEDED":var n=t.lists.map((function(t){return t.id===e.list.id?Object(L.a)(Object(L.a)({},t),{},{name:e.list.name}):t}));return Object(L.a)(Object(L.a)({},t),{},{lists:n});case"ADD_CARD_SUCCEEDED":var c=t.lists.map((function(t){return t.id===e.idList?Object(L.a)(Object(L.a)({},t),{},{cards:[].concat(Object($.a)(t.cards),[e.card])}):t}));return Object(L.a)(Object(L.a)({},t),{},{lists:c});case"ARCHIVE_LIST_SUCCEEDED":var a=t.lists.filter((function(t){return t.id!==e.idList}));return Object(L.a)(Object(L.a)({},t),{},{lists:Object($.a)(a)});case"ARCHIVE_CARD_SUCCEEDED":var r=t.lists.map((function(t){return Object(L.a)(Object(L.a)({},t),{},{cards:t.cards.filter((function(t){return t.id!==e.idCard}))})}));return Object(L.a)(Object(L.a)({},t),{},{lists:r});case"UPDATE_CARD_SUCCEEDED":var i=t.lists.map((function(t){if(t.id===e.card.idList){var n=t.cards.filter((function(t){return t.id!==e.card.id}));return Object(L.a)(Object(L.a)({},t),{},{cards:[].concat(Object($.a)(n),[e.card])})}return t}));return Object(L.a)(Object(L.a)({},t),{},{lists:i});default:return t}},xt=Object(lt.c)({lists:vt,cards:Ot,boards:ft}),ht=Object(lt.e)(xt,Object(lt.a)(bt.a));var Ct=function(){return Object(h.jsx)(s.a,{store:ht,children:Object(h.jsx)("div",{className:"min-vh-100 text-light root-container",children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(ot,{}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{path:"/login",children:Object(h.jsx)(C,{})}),Object(h.jsx)(dt,{exact:!0,path:"/b/:id/:name",component:it}),Object(h.jsx)(dt,{path:"/",component:T})]})]})})})},Et=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(Ct,{})}),document.getElementById("root")),Et()}},[[73,1,2]]]);
//# sourceMappingURL=main.4d15061e.chunk.js.map